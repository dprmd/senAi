import{r as o,j as e}from"./pnpm-react@18.3.1--FUz9cRTN.js";import{A as w}from"./src-components-composable-AlertDialogNormal.jsx-DobP8umH.js";import{L as i}from"./src-components-composable-Loading.jsx-DQ2f1ITI.js";import{u as S}from"./src-hooks-useSendRecord.js-7-ylD6BA.js";import{D as d}from"./src-components-svg-DynamicSvg.jsx-BEJwgHYB.js";import{u as v}from"./src-store-useRecordStore.js-UBSn0Y6h.js";import{u as y}from"./pnpm-zustand@4.5.4_@types_react@18.3.3_react@18.3.1--EhdkWrrw.js";import{u as P}from"./pnpm-react-i18next@15.0.1_i18next@23.12.2_react-dom@18.3.1_react@18.3.1__react@18.3.1--C-fP4VmU.js";import{M as C}from"./pnpm-lucide-react@0.412.0_react@18.3.1--BJNNq4L6.js";const L=()=>{const[c,m,r,u,x,t,g]=v(y(s=>[s.isRecording,s.setIsRecording,s.isRecordingStart,s.transcriptionProgress,s.gettingUrlProgress,s.haveRecord,s.isPlayRecord])),{t:a}=P(),l=o.useRef(null),n=o.useRef(null),{handleCancel:h,handleStartRecording:f,handleStopRecording:p,handlePlayRecordResult:j,handleEndedRecordResult:R,handleTimeUpdateRecordResult:b,handleSeekBarChangeRecordResult:k,handleSendRecord:N}=S(l,n);return e.jsxs(e.Fragment,{children:[u&&e.jsx(i,{message:a("loading_transcription")}),x&&e.jsx(i,{message:a("getting_url_progress")}),e.jsx(w,{openState:c,setOpenState:m,showDescription:!0,showCancel:!0,showContinue:!1,handleCancel:h,customAction:r?[{actionTitle:a("done"),actionFunction:p}]:t?[{actionTitle:a("send"),actionFunction:N}]:[{actionTitle:a("start"),actionFunction:f}],children:e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col items-center justify-center p-3",children:[e.jsx("div",{className:"rounded-full bg-green-500 p-2 text-slate-800 dark:bg-green-600 dark:text-slate-200",children:e.jsx(C,{className:"h-10 w-10"})}),e.jsx("div",{className:"mt-6 flex",children:r?e.jsxs("ul",{className:"flex",children:[e.jsx("li",{className:"mx-1.5 h-2 w-2 animate-record-0 rounded-full bg-slate-800 dark:bg-slate-200"}),e.jsx("li",{className:"mx-1.5 h-2 w-2 animate-record-1 rounded-full bg-slate-800 dark:bg-slate-200"}),e.jsx("li",{className:"mx-1.5 h-2 w-2 animate-record-2 rounded-full bg-slate-800 dark:bg-slate-200"}),e.jsx("li",{className:"mx-1.5 h-2 w-2 animate-record-3 rounded-full bg-slate-800 dark:bg-slate-200"}),e.jsx("li",{className:"mx-1.5 h-2 w-2 animate-record-4 rounded-full bg-slate-800 dark:bg-slate-200"}),e.jsx("li",{className:"mx-1.5 h-2 w-2 animate-record-5 rounded-full bg-slate-800 dark:bg-slate-200"}),e.jsx("li",{className:"mx-1.5 h-2 w-2 animate-record-6 rounded-full bg-slate-800 dark:bg-slate-200"}),e.jsx("li",{className:"mx-1.5 h-2 w-2 animate-record-7 rounded-full bg-slate-800 dark:bg-slate-200"}),e.jsx("li",{className:"mx-1.5 h-2 w-2 animate-record-8 rounded-full bg-slate-800 dark:bg-slate-200"})]}):e.jsx("div",{className:"h-6 text-slate-800 dark:text-slate-200",children:t?e.jsxs("div",{children:[e.jsx("audio",{ref:l,onTimeUpdate:b,onEnded:R,children:e.jsx("track",{kind:"captions"})}),e.jsxs("div",{className:"flex items-center justify-center p-2",children:[e.jsx("button",{onClick:j,className:"flex min-h-[40px] min-w-[50px] items-center justify-center",children:g?e.jsx(d,{name:"Pause",className:"h-8 w-8 animate-small-to-big fill-current font-bold text-slate-900 dark:text-slate-300"}):e.jsx(d,{name:"Play",className:"h-8 w-8 animate-small-to-big fill-current font-bold text-slate-900 dark:text-slate-300"})}),e.jsx("input",{type:"range",value:"0",max:"100",ref:n,onInput:k})]})]}):e.jsx("span",{className:"font-poppins",children:a("click_to_start_record")})})})]})})})]})};export{L as R};
