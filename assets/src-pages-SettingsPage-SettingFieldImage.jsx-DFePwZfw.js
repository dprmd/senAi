const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/src-controller-CRUDFirestore.js-xeEZYl9J.js","assets/pnpm-react-syntax-highlighter@15.5.0_react@18.3.1--DZvnRHEN.js","assets/pnpm-react@18.3.1--FUz9cRTN.js","assets/pnpm-@babel_runtime@7.25.0--CyFcdsuD.js","assets/pnpm-refractor@3.6.0--CXVGWoH1.js","assets/pnpm-hastscript@6.0.0--DUsoOKIx.js","assets/pnpm-property-information@5.6.0--BaUulPWZ.js","assets/pnpm-xtend@4.0.2--CeaPpq3n.js","assets/pnpm-space-separated-tokens@1.1.5--CMBzgJJ4.js","assets/pnpm-comma-separated-tokens@1.0.8--DgTuumFk.js","assets/pnpm-hast-util-parse-selector@2.2.5--Cqsfuk9Y.js","assets/pnpm-parse-entities@2.0.0--Cz6FRF7l.js","assets/pnpm-character-entities-legacy@1.1.4--BW45UVHJ.js","assets/pnpm-character-reference-invalid@1.1.4--AKrgFUtc.js","assets/pnpm-is-decimal@1.0.4--Dxw1ZLrO.js","assets/pnpm-is-hexadecimal@1.0.4--Bc6OsCR9.js","assets/pnpm-is-alphanumerical@1.0.4--VupdbT_8.js","assets/pnpm-is-alphabetical@1.0.4--BlcIJk-E.js","assets/pnpm-prismjs@1.27.0--l2mXeTxv.js","assets/src-components-ui-use-toast.js-w7cDmHIs.js","assets/pnpm-i18next@23.12.2--B7JNKktp.js","assets/src-lib-myUtils.js-CM7Pyx7U.js","assets/src-controller-serverSource.js-CoR-J6Fc.js"])))=>i.map(i=>d[i]);
import{_ as q}from"./pnpm-react-syntax-highlighter@15.5.0_react@18.3.1--DZvnRHEN.js";import{r as l,j as e}from"./pnpm-react@18.3.1--FUz9cRTN.js";import{D as n}from"./src-components-svg-DynamicSvg.jsx-BEJwgHYB.js";import{t as j}from"./src-components-ui-use-toast.js-w7cDmHIs.js";import{b as B}from"./src-hooks-useUtils.js-BUzQx-4o.js";import{u as G}from"./src-store-appStore.js-PIoWTcuH.js";import{u as J}from"./src-store-useSettingsStore.js-BYM2pdyF.js";import{u as v}from"./pnpm-zustand@4.5.4_@types_react@18.3.3_react@18.3.1--EhdkWrrw.js";import{A as K}from"./src-components-composable-AlertDialogNormal.jsx-DobP8umH.js";import{S as Q}from"./src-components-ui-skeleton.jsx-DNL_RBFp.js";import{checkLS as W,getLS as X,setLS as c}from"./src-lib-myUtils.js-CM7Pyx7U.js";import{A as k,a as b,b as w,c as Y,d as C,e as Z}from"./src-components-ui-alert-dialog.jsx-D3l_bTXo.js";import{u as $}from"./pnpm-react-i18next@15.0.1_i18next@23.12.2_react-dom@18.3.1_react@18.3.1__react@18.3.1--C-fP4VmU.js";import{a as ee}from"./pnpm-react-router@6.26.0_react@18.3.1--BYg1aRBq.js";const fe=()=>{const[m,d,i,y,N,S,F,I]=J(v(t=>[t.setImageFile,t.setHaveSelectImageFile,t.profilePhotoUrl,t.setProfilePhotoUrl,t.customProfilePhotoUrl,t.setCustomProfilePhotoUrl,t.customPPFileName,t.setCustomPPFileName])),[D]=G(v(t=>[t.userId])),{t:a}=$(),p=ee(),A=B(),[U,u]=l.useState(!1),_=W("senAi-love")?X("senAi-love"):"no",[g,x]=l.useState(_==="yes"),f=l.useRef(null),h=l.useRef(null),[L,r]=l.useState(!1),[T,o]=l.useState(!1),O=async()=>{h.current.click()},R=()=>{f.current.click()},H=async t=>{const s=t.target.files[0];s&&(m(s),d(!0),r(!1),p("/settings/cropImage"))},E=async t=>{const s=t.target.files[0];s&&(s.type==="image/png"||s.type==="image/jpeg")?(m(s),d(!0),r(!1),p("/settings/cropImage")):j({description:a("image_format_wrong"),duration:4e3,variant:"destructive"})},P=()=>{g?c("senAi-love","no"):c("senAi-love","yes"),x(t=>!t)},z=async()=>{const{deletePPInFireStorage:t,updatePPUrlInFirestore:s}=await q(async()=>{const{deletePPInFireStorage:M,updatePPUrlInFirestore:V}=await import("./src-controller-CRUDFirestore.js-xeEZYl9J.js");return{deletePPInFireStorage:M,updatePPUrlInFirestore:V}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22]));await t(F),await s(D,"img/haku.jpeg","",!1)&&(S(!1),I(""),o(!1),y("img/haku.jpeg"),c("senAi-love","no"),x(!1),j({description:a("deleted_pp"),duration:3e3}))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex items-center justify-center py-5",children:e.jsxs("div",{className:"relative rounded-full",children:[i.length>0?e.jsx("img",{src:i,className:"h-full max-h-[150px] min-h-[150px] min-w-[150px] max-w-[150px] rounded-full",alt:"Profile Photo",loading:"lazy",onClick:()=>{o(!0)},"aria-hidden":!0}):e.jsx(Q,{className:"h-full max-h-[150px] min-h-[150px] min-w-[150px] max-w-[150px] rounded-full"}),e.jsx("button",{className:"absolute bottom-4 right-0 rounded-full bg-green-600 p-2 dark:bg-green-400",onClick:()=>{r(!0)},children:e.jsx(n,{name:"Camera",className:"h-5 w-5 text-slate-100 dark:text-slate-900"})})]})}),e.jsx(k,{open:L,children:e.jsxs(b,{className:"top-[100%] w-full translate-y-[-100%] rounded-none rounded-t-xl sm:top-[50%] sm:translate-y-[-50%] sm:rounded-xl",onClickOverlay:()=>{r(!1)},children:[e.jsxs(w,{children:[e.jsx(Y,{className:"mb-6 text-left font-bold",children:a("profile_photo")}),e.jsx(C,{children:e.jsxs("div",{className:"flex items-center gap-x-6 pb-6",children:[A&&e.jsxs("div",{className:"flex min-w-20 cursor-pointer flex-col items-center justify-center gap-2 rounded-xl p-1 duration-300 active:bg-green-200 dark:active:bg-green-700",onClick:O,"aria-hidden":!0,children:[e.jsx("div",{children:e.jsx(n,{name:"Camera",className:"h-7 w-7 font-bold text-green-400 dark:text-green-600"})}),e.jsx("p",{children:"Camera"}),e.jsx("input",{ref:h,type:"file",accept:"image/*",capture:"environment",onChange:H,style:{display:"none"},id:"cameraInput"})]}),e.jsxs("div",{className:"flex min-w-20 cursor-pointer flex-col items-center justify-center gap-2 rounded-xl p-1 duration-300 active:bg-green-200 dark:active:bg-green-700",onClick:()=>{R()},"aria-hidden":!0,children:[e.jsx("div",{children:e.jsx(n,{name:"CardImage",className:"h-7 w-7 font-bold text-green-400 dark:text-green-600"})}),e.jsx("p",{children:"Files"}),e.jsx("input",{type:"file",ref:f,style:{display:"none"},accept:".png, .jpg, .jpeg",onChange:E})]})]})})]}),e.jsx(Z,{})]})}),e.jsx(K,{openState:U,setOpenState:u,showTitle:!1,showDescription:!0,description:a("delete_pp"),centerDescription:!0,showCancel:!0,cancelTitle:a("cancel"),showContinue:!0,continueTitle:a("continue"),handleContinue:z}),e.jsx(k,{open:T,children:e.jsx(b,{className:"debug h-[300px] w-[300px] rounded-none p-0",onClickOverlay:()=>{o(!1)},children:e.jsx(w,{children:e.jsxs(C,{children:[e.jsx("img",{src:i,alt:"",className:"h-[300px] w-[300px]",loading:"lazy"}),e.jsxs("div",{className:"flex w-full items-center justify-center gap-x-4 rounded-b-xl bg-slate-100 py-2 dark:bg-slate-800",children:[g?e.jsx("button",{onClick:P,className:"inline-block min-h-8 min-w-8",children:e.jsx(n,{name:"HeartFill",className:"h-6 w-6 animate-small-to-big text-green-400 dark:text-green-600"})}):e.jsx("button",{onClick:P,className:"inline-block min-h-8 min-w-8",children:e.jsx(n,{name:"Heart",className:"h-6 w-6 animate-small-to-big text-green-400 dark:text-green-600"})}),N&&e.jsx("button",{onClick:()=>{u(!0)},children:e.jsx(n,{name:"Trash3",className:"h-6 w-6 animate-small-to-big text-green-400 dark:text-green-600"})})]})]})})})})]})};export{fe as S};
